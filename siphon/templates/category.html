{% extends 'layout.html' %}
{% block body %}
<div class="row center-block">
  <div class="col-xs-8 col-md-8 col-xs-offset-2 col-md-offset-2">
    <h3>商品カテゴリ設定</h3>
    <div class="table-responsive">
      <table class="table table-bordered">
        <thead>
          <tr>
            <th class="text-right" colspan="2">
              <button type="button" class="btn btn-success" data-bind="click: onShowAddForm">
                <span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
                新規
              </button>
            </th>
          </tr>
        </thead>
        <tbody data-bind="foreach: categories">
          <tr>
            <td>
              <p class="form-control-static" data-bind="text: name"></p>
            </td>
            <td class="text-center">
              <button type="button" class="btn btn-primary" data-bind="click: $root.onShowEditForm">
                <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
                編集
              </button>
              <button type="button" class="btn btn-danger" data-bind="click: $root.onShowRemoveAlert">
                <span class="glyphicon glyphicon-trash" aria-hidden="true"></span>
                削除
              </button>
            </td>
        </tbody>
      </table>
    </div> <!-- table-responsive -->
  </div> <!-- col-xs-8 etc... -->
</div> <!-- row center-block -->
{% include 'delete_confirm.html' %}

<div id="entryForm" class="modal fade" tabindex="-1">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header alert alert-info">
        <button type="button" class="close" data-dismiss="modal">
          <span>x</span>
        </button>
        <h4>
          <span class="glyphicon glyphicon-edit" aria-hidden="true"></span>
          商品カテゴリ登録
        </h4>
      </div>
      <div class="modal-body">
        <!-- <form class="form-horizontal" type="post" data-bind="with: category"> -->
        <form class="form-horizontal" type="post" data-bind="with: model">
          <div class="form-group">
            <label class="col-xs-3 control-label">カテゴリ名:</label>
            <div class="col-xs-5">
              <input type="text" class="form-control" data-bind="value: name" placeholder="最大20文字" />
            </div>
          </div>
        </form>
      </div> <!-- modal-body -->
      <div class="modal-footer">
        <!-- ko ifnot: model().id -->
          <button type="button" class="btn btn-primary" data-bind="click: $root.onAdd">
            <span class="glyphicon glyphicon-edit" aria-hidden="true"></span>
            保存
          </button>
        <!-- /ko -->
        <!-- ko if: model().id  -->
          <button type="button" class="btn btn-primary" data-bind="click: $root.onEdit">
            <span class="glyphicon glyphicon-edit" aria-hidden="true"></span>
            編集
          </button>
        <!-- /ko -->
        <button type="button" class="btn btn-default" data-dismiss="modal">
          <span class="glyphicon glyphicon-remove" aria-hidden="true"></span>
          閉じる
        </button>
      </div>
    </div> <!-- modal-content -->
  </div> <!-- modal-dialog -->
</div> <!-- entryForm -->

{% endblock %}

{% block static %}
<script src="../static/js/app.js"></script>
<script src="../static/js/category.js"></script>
{% endblock %}
